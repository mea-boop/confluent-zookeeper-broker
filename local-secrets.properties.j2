# ==============================================================================
# Confluent SecurePass Local Secrets File
# Location : {{ broker_secrets_dir }}/local-secrets.properties
# Owner    : {{ broker_user }}:{{ broker_group }}   Mode: 0600
# Generated by Ansible from AAP Custom Credential variables
# DO NOT EDIT MANUALLY - DO NOT COMMIT TO GIT
#
# This file is read ONCE by the Confluent SecurePass config provider at
# broker JVM startup. Values resolve ${securepass:...} placeholders in
# server.properties in-memory only. Never written back to any file.
#
# Format:  <config-file-name>/<property-key-path> = <value>
# ==============================================================================

# --- SSL Truststore ---
server.properties/ssl.truststore.password={{ ssl_truststore_password }}

# --- SSL Keystore ---
server.properties/ssl.keystore.password={{ ssl_keystore_password }}
server.properties/ssl.key.password={{ ssl_key_password }}

# --- SASL_SSL Listener: Admin SCRAM password ---
server.properties/listener.name.sasl_ssl.scram-sha-256.sasl.jaas.config/org.apache.kafka.common.security.scram.ScramLoginModule/password={{ kafka_admin_password }}

# --- Metrics Reporter SSL + SCRAM ---
server.properties/confluent.metrics.reporter.ssl.truststore.password={{ ssl_truststore_password }}
server.properties/confluent.metrics.reporter.sasl.jaas.config/org.apache.kafka.common.security.scram.ScramLoginModule/password={{ kafka_admin_password }}

# --- Token Listener SSL ---
server.properties/listener.name.token.ssl.truststore.password={{ ssl_truststore_password }}
server.properties/listener.name.token.ssl.keystore.password={{ ssl_keystore_password }}
server.properties/listener.name.token.ssl.key.password={{ ssl_key_password }}

# --- AD Listener SSL ---
server.properties/listener.name.ad.ssl.truststore.password={{ ssl_truststore_password }}
server.properties/listener.name.ad.ssl.keystore.password={{ ssl_keystore_password }}
server.properties/listener.name.ad.ssl.key.password={{ ssl_key_password }}

# --- MDS (Metadata Service) SSL ---
server.properties/confluent.metadata.server.ssl.truststore.password={{ ssl_truststore_password }}
server.properties/confluent.metadata.server.ssl.keystore.password={{ ssl_keystore_password }}
server.properties/confluent.metadata.server.ssl.key.password={{ ssl_key_password }}

# --- Audit Log Exporter SSL + SCRAM ---
server.properties/confluent.security.event.logger.exporter.kafka.ssl.truststore.password={{ ssl_truststore_password }}
server.properties/confluent.security.event.logger.exporter.kafka.sasl.jaas.config/org.apache.kafka.common.security.scram.ScramLoginModule/password={{ kafka_admin_password }}

# --- LDAP Bind Credentials ---
server.properties/ldap.java.naming.security.credentials={{ ldap_bind_password }}

# --- LDAP SSL Truststore ---
server.properties/ldap.ssl.truststore.password={{ ssl_truststore_password }}
